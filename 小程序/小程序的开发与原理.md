## 小程序介绍

### 优势

当微信中的 WebView 逐渐成为移动 Web 的⼀个重要入口时，微信就有相关的 JS-SDK 了

- JS-SDK 解决了移动网页能力不足的问题，通过暴露微信的接⼝使得 Web 开发者能够拥有更多的能⼒
- 但是 JS-SDK 的模式并没有解决使⽤移动网页遇到的体验不良的问题

小程序优势

1. 丰富的客户端能力

   提供了很多 API（H5上有的和没有的），前端用 JS SDK 形式去调用

2. 优良的离线性

### 小程序与普通网页区别

网页开发渲染线程和脚本线程是互斥的，这也是为什么长时间的脚本运行可能导致页面失去响应。而在小程序中，二者是分开的，分别运行在不同的线程中

网页开发者可以使用到各种浏览器暴露出来的 DOM API，进行 DOM 选中和操作

小程序的逻辑层和渲染层是分开的，**逻辑层采用 JSCore 运行 js 代码**，并没有一个完整浏览器对象。**渲染层使用 webview 进行渲染**

- 因而缺少相关的 DOM API 和 BOM API。这一区别导致了前端开发非常熟悉的一些库，例如 jQuery、Zepto 等，在小程序中是无法运行的
- 同时 JSCore 的环境同 NodeJS 环境也是不尽相同，所以一些 NPM 的包在一些小程序也是无法运行的

**双线程架构**

逻辑层、渲染层两个线程之间由 Native 层之间统一处理，无论是线程之间的通信，还是数据的传递，网络请求都是由 Native 层做转发

![img](https://gitee.com/lilyn/pic/raw/master/lagoulearn-img/f59dd6330bbc47e9af27a2a7e64b9cbftplv-k3u1fbpfcp-zoom-in-crop-mark1512000.webp)

